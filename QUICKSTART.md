# üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç AI Call Center

## üì¶ –ß—Ç–æ –Ω—É–∂–Ω–æ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å

### 1. API –∫–ª—é—á–∏

–ü–æ–ª—É—á–∏—Ç–µ API –∫–ª—é—á–∏:

- **OpenAI**: https://platform.openai.com/api-keys
- **ElevenLabs**: https://elevenlabs.io/app/settings/api-keys
- **–ù–æ–≤–æ—Ñ–æ–Ω**: https://novofon.com (–∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∏ –ø–æ–ª—É—á–∏—Ç–µ SIP –¥–∞–Ω–Ω—ã–µ)

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <your-repo-url>
cd ai-call-center

# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª –æ–∫—Ä—É–∂–µ–Ω–∏—è
cp .env.example .env

# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ .env –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤–∞—à–∏ API –∫–ª—é—á–∏
nano .env
```

## üê≥ –õ–æ–∫–∞–ª—å–Ω—ã–π –∑–∞–ø—É—Å–∫ (Docker)

```bash
# –ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–æ–≥–æ–≤
docker-compose logs -f

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down
```

–î–æ—Å—Ç—É–ø:
- Frontend: http://localhost:3000
- Backend API: http://localhost:8000
- API Docs: http://localhost:8000/docs

## ‚òÅÔ∏è –î–µ–ø–ª–æ–π –Ω–∞ Railway

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Railway CLI

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Railway CLI
npm install -g @railway/cli

# –õ–æ–≥–∏–Ω
railway login

# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
railway init

# –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
railway variables set OPENAI_API_KEY=sk-...
railway variables set ELEVENLABS_API_KEY=...
railway variables set SIP_USERNAME=...
railway variables set SIP_PASSWORD=...
railway variables set SIP_PROVIDER_HOST=sip.novofon.ru
railway variables set JWT_SECRET=your-secret-key

# –î–µ–ø–ª–æ–π
railway up
```

### –í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ GitHub

1. –ü—É—à—å—Ç–µ –∫–æ–¥ –Ω–∞ GitHub:
```bash
git add .
git commit -m "Initial commit"
git push origin main
```

2. –ó–∞–π–¥–∏—Ç–µ –Ω–∞ https://railway.app
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç –∏–∑ GitHub —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
4. –î–æ–±–∞–≤—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
5. Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–¥–µ–ø–ª–æ–∏—Ç –ø—Ä–æ–µ–∫—Ç

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ PostgreSQL –Ω–∞ Railway

1. –í –ø—Ä–æ–µ–∫—Ç–µ Railway –Ω–∞–∂–º–∏—Ç–µ "New" ‚Üí "Database" ‚Üí "PostgreSQL"
2. Railway —Å–æ–∑–¥–∞—Å—Ç –ë–î –∏ —É—Å—Ç–∞–Ω–æ–≤–∏—Ç `DATABASE_URL` –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
3. –û–±–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `DATABASE_URL` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –µ—Å–ª–∏ –Ω—É–∂–Ω–æ

## üîß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ù–æ–≤–æ—Ñ–æ–Ω (VoIP –ø—Ä–æ–≤–∞–π–¥–µ—Ä)

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://novofon.com
2. –ö—É–ø–∏—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–π –Ω–æ–º–µ—Ä (+7)
3. –í –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –Ω–æ–º–µ—Ä–∞ —É–∫–∞–∂–∏—Ç–µ:
   - **SIP URI**: `sip:incoming@–≤–∞—à-railway-–¥–æ–º–µ–Ω.railway.app:5060`
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ SIP credentials –≤ `.env`:
   ```
   SIP_USERNAME=–≤–∞—à_–ª–æ–≥–∏–Ω
   SIP_PASSWORD=–≤–∞—à_–ø–∞—Ä–æ–ª—å
   SIP_PROVIDER_HOST=sip.novofon.ru
   SIP_PHONE_NUMBER=+7495XXXXXXX
   ```

## üë§ –ü–µ—Ä–≤—ã–π –≤—Ö–æ–¥

–ü–æ—Å–ª–µ –¥–µ–ø–ª–æ—è:

1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∞—à –¥–æ–º–µ–Ω Railway
2. –í–æ–π–¥–∏—Ç–µ —Å —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é:
   - Email: `admin@example.com`
   - –ü–∞—Ä–æ–ª—å: `changeme123`
3. ‚ö†Ô∏è **–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û —Å–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª—å –ø–æ—Å–ª–µ –ø–µ—Ä–≤–æ–≥–æ –≤—Ö–æ–¥–∞!**

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ—Å—Ç 1: API —Ä–∞–±–æ—Ç–∞–µ—Ç

```bash
curl https://–≤–∞—à-–¥–æ–º–µ–Ω.railway.app/health
```

–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:
```json
{
  "status": "healthy",
  "version": "1.0.0"
}
```

### –¢–µ—Å—Ç 2: AI –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è

```bash
curl -X POST https://–≤–∞—à-–¥–æ–º–µ–Ω.railway.app/api/ai/route \
  -H "Content-Type: application/json" \
  -d '{"text": "–•–æ—á—É –∫—É–ø–∏—Ç—å –≤–∞—à –ø—Ä–æ–¥—É–∫—Ç"}'
```

### –¢–µ—Å—Ç 3: –¢–µ—Å—Ç–æ–≤—ã–π –∑–≤–æ–Ω–æ–∫

–ü–æ–∑–≤–æ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –Ω–æ–º–µ—Ä –ù–æ–≤–æ—Ñ–æ–Ω:
1. –í—ã —É—Å–ª—ã—à–∏—Ç–µ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ
2. AI –ø–æ–ø—Ä–æ—Å–∏—Ç —Å–∫–∞–∑–∞—Ç—å –≤–∞—à –∑–∞–ø—Ä–æ—Å
3. AI –Ω–∞–ø—Ä–∞–≤–∏—Ç –Ω–∞ –Ω—É–∂–Ω–æ–≥–æ –æ–ø–µ—Ä–∞—Ç–æ—Ä–∞

## üéØ –†–µ–∂–∏–º—ã —Å—É—Ñ–ª–µ—Ä–∞

–ü–æ—Å–ª–µ –≤—Ö–æ–¥–∞ –æ–ø–µ—Ä–∞—Ç–æ—Ä –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å:

### üìù –¢–µ–∫—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ
- –≠–∫–æ–Ω–æ–º–∏—á–Ω—ã–π (–¥–µ—à–µ–≤–ª–µ)
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–∞ —Å–∏—Ç—É–∞—Ü–∏–π

### üéß –ê—É–¥–∏–æ —Ä–µ–∂–∏–º
- –ü–æ–¥—Å–∫–∞–∑–∫–∏ –ø—Ä–æ–∏–≥—Ä—ã–≤–∞—é—Ç—Å—è –≤ –Ω–∞—É—à–Ω–∏–∫
- –ö–∞–∫ –≤ —à–ø–∏–æ–Ω—Å–∫–∏—Ö —Ñ–∏–ª—å–º–∞—Ö
- –£–¥–æ–±–Ω–æ –µ—Å–ª–∏ –Ω–µ–ª—å–∑—è —Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ —ç–∫—Ä–∞–Ω

### üîÄ –ì–∏–±—Ä–∏–¥–Ω—ã–π —Ä–µ–∂–∏–º (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)
- –û–±—ã—á–Ω—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏ - —Ç–µ–∫—Å—Ç–æ–º
- –ö—Ä–∏—Ç–∏—á–Ω—ã–µ - –≥–æ–ª–æ—Å–æ–º
- –ë–∞–ª–∞–Ω—Å –º–µ–∂–¥—É —É–¥–æ–±—Å—Ç–≤–æ–º –∏ —Å—Ç–æ–∏–º–æ—Å—Ç—å—é

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–≤:

```bash
# Health check
curl https://–≤–∞—à-–¥–æ–º–µ–Ω.railway.app/health

# –ú–µ—Ç—Ä–∏–∫–∏
curl https://–≤–∞—à-–¥–æ–º–µ–Ω.railway.app/api/metrics
```

## üêõ Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: FreeSWITCH –Ω–µ –ø–æ–¥–∫–ª—é—á–∞–µ—Ç—Å—è –∫ –ù–æ–≤–æ—Ñ–æ–Ω

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ SIP credentials –≤ `.env`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –ø–æ—Ä—Ç 5060 –æ—Ç–∫—Ä—ã—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs freeswitch`

### –ü—Ä–æ–±–ª–µ–º–∞: AI –Ω–µ –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø–æ–¥—Å–∫–∞–∑–∫–∏

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `OPENAI_API_KEY` –≤ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±–∞–ª–∞–Ω—Å –Ω–∞ OpenAI –∞–∫–∫–∞—É–Ω—Ç–µ
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `docker-compose logs backend`

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Ç –∞—É–¥–∏–æ –≤–æ –≤—Ä–µ–º—è –∑–≤–æ–Ω–∫–∞

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–±–ª–µ–º–∞ —Å NAT/RTP –ø–æ—Ä—Ç–∞–º–∏
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —á—Ç–æ –ø–æ—Ä—Ç—ã 16384-16394 –æ—Ç–∫—Ä—ã—Ç—ã
3. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `external_rtp_ip` –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ `auto-nat`

## üí∞ –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏

–î–ª—è 1000 –º–∏–Ω—É—Ç –∑–≤–æ–Ω–∫–æ–≤ –≤ –º–µ—Å—è—Ü:

| –°–µ—Ä–≤–∏—Å | –°—Ç–æ–∏–º–æ—Å—Ç—å |
|--------|-----------|
| Railway (2GB RAM) | $15/–º–µ—Å |
| PostgreSQL (Railway) | $5/–º–µ—Å |
| –ù–æ–≤–æ—Ñ–æ–Ω (–Ω–æ–º–µ—Ä + –º–∏–Ω—É—Ç—ã) | ~500‚ÇΩ/–º–µ—Å (~$6) |
| OpenAI (GPT-4 + Whisper) | ~$15/–º–µ—Å |
| ElevenLabs (TTS) | $15/–º–µ—Å |
| **–ò—Ç–æ–≥–æ** | **~$56/–º–µ—Å** |

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [–ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](README.md)
- [API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è](https://–≤–∞—à-–¥–æ–º–µ–Ω.railway.app/docs)
- [–ü—Ä–∏–º–µ—Ä—ã –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π](docs/examples.md)

## üÜò –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–í–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã?

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ [Troubleshooting](#-troubleshooting)
2. –ü–æ—Å–º–æ—Ç—Ä–∏—Ç–µ [Issues –Ω–∞ GitHub](https://github.com/your-repo/issues)
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π Issue —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã

---

**–ì–æ—Ç–æ–≤–æ! üéâ –í–∞—à AI Call Center –∑–∞–ø—É—â–µ–Ω!**

–ü–æ–∑–≤–æ–Ω–∏—Ç–µ –Ω–∞ –≤–∞—à –Ω–æ–º–µ—Ä –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ —Å–∏—Å—Ç–µ–º—É.

